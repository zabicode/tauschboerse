<!--<h3>figure-create component</h3>-->

<!-- REACTIVE FORM MODULE instead of TEMPLATE DRIVEN APPROACH-->

<mat-spinner *ngIf="isLoading"></mat-spinner>

<div class="creationForm">
  <mat-card>
    <form [formGroup]="form" (submit)="onCreateFigure()" *ngIf="!isLoading">

      <mat-form-field appearance="fill">
        <mat-label>Name</mat-label>
        <input 
        name="name" 
        matInput 
        formControlName="name">
        <mat-error *ngIf="form.get('name').invalid">Please enter a name</mat-error>
      </mat-form-field>
      <mat-form-field appearance="fill">
        <mat-label>Franchise</mat-label>
        <select 
        matNativeControl 
        name="franchise"
        formControlName="franchise">
          <option value="lotr">Herr der Ringe</option>
          <option value="star wars">Star Wars</option>
          <option value="divers">Divers</option>
        </select>
        <mat-error *ngIf="form.get('franchise').invalid">Please enter a franchise</mat-error>
      </mat-form-field>
      <mat-form-field appearance="fill">
        <mat-label>Description</mat-label>
        <textarea 
        name="description" 
        matInput
        formControlName="description">
        >
              </textarea>
        <mat-error *ngIf="form.get('description').invalid">Please enter a description</mat-error>
      </mat-form-field>

      <div class="image-preview" *ngIf="imagePreview !== '' && imagePreview && form.get('image').valid">
        <img [src]="imagePreview" [alt]="form.value.title">
      </div>

      <div class="imagePicker">
        <button mat-stroked-button type="button" (click)="filePicker.click()">Pick Image</button>
        <input type="file" #filePicker (change)="onImagePicked($event)">
      </div>
      
      <button mat-raised-button color="primary" type="submit">Create Figure</button>
    </form>

  </mat-card>
</div>
<!--
        <form class="creation-form" (submit)="onCreateFigure(figureForm)" #figureForm="ngForm"> 

          <mat-form-field appearance="fill">
              <mat-label>Name</mat-label>
              <input 
              ngModel
              name="name" 
              matInput 
              required
              #name="ngModel">
              <mat-error *ngIf="name.invalid">Please enter a name</mat-error>
            </mat-form-field>
            <mat-form-field appearance="fill">
              <mat-label>Franchise</mat-label>
              <select 
              matNativeControl
               required
               ngModel
               name="franchise"
               #franchise="ngModel">
                <option value="lotr">Herr der Ringe</option>
                <option value="star wars">Star Wars</option>
                <option value="divers">Divers</option>
              </select>
              <mat-error *ngIf="franchise.invalid">Please enter a franchise</mat-error>
            </mat-form-field>
            <mat-form-field appearance="fill">
              <mat-label>Description</mat-label>
              <textarea 
              ngModel
              name="description" 
              matInput 
              required
              #description="ngModel">
            </textarea>
            <mat-error *ngIf="description.invalid">Please enter a description</mat-error>
            </mat-form-field>
            <mat-form-field appearance="fill">
              <mat-label>Image URL</mat-label>
              <input 
              ngModel
              name="imageUrl"
              matInput 
              required
              #imageUrl="ngModel">
              <mat-error *ngIf="imageUrl.invalid">Please enter an image url</mat-error>
            </mat-form-field>
            <button 
            mat-raised-button 
            color="primary"
            type="submit">Create Figure</button>
          </form>
          
        -->

